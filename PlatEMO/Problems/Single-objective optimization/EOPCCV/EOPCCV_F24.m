classdef EOPCCV_F24 < PROBLEM
% <2022> <single> <real/label> <expensive/none>
% Expensive optimization problems with continuous and categorical variables

%------------------------------- Reference --------------------------------
% J. Liu, Y. Wang, G. Sun, and T. Pang. Multisurrogate-assisted ant colony
% optimization for expensive optimization problems with continuous and
% categorical variables. IEEE Transactions on Cybernetics, 2022, 52(11):
% 11348-11361.
%------------------------------- Copyright --------------------------------
% Copyright (c) 2026 BIMK Group. You are free to use the PlatEMO for
% research purposes. All publications which use this platform or any code
% in the platform should acknowledge the use of "PlatEMO" and reference "Ye
% Tian, Ran Cheng, Xingyi Zhang, and Yaochu Jin, PlatEMO: A MATLAB platform
% for evolutionary multi-objective optimization [educational forum], IEEE
% Computational Intelligence Magazine, 2017, 12(4): 73-87".
%--------------------------------------------------------------------------

% This function is written by Jiao Liu (email: jiao.liu@ntu.edu.sg)

    properties
        Dr;     % Number of continuous variables
        Dc;     % Number of categorical variables
        len_c;  % length of values of categorical variables
    end
    methods
        %% Default settings of the problem
        function Setting(obj)
            obj.Dr       = 5;
            obj.Dc       = 5;
            obj.M        = 1;
            obj.D        = obj.Dr + obj.Dc; 
            obj.lower    = [-100*ones(1,obj.Dr),ones(1,obj.Dc)];
            obj.upper    = [100*ones(1,obj.Dr),5*ones(1,obj.Dc)];
            obj.len_c    = 5*ones(1,obj.Dc);
            obj.encoding = [zeros(1,obj.Dr),zeros(1,obj.Dc)+3];
        end
        %% Calculate objective values
        function PopObj = CalObj(obj,PopDec)
            load elliptic_M_D10
            PopDec(:,obj.Dr+1:obj.D) = ceil(PopDec(:,obj.Dr+1:obj.D));
            Shift = [6.57064505520337,-4.74150068053714,99.8101093264559,-69.8674554533293,46.3398107782206,-94.7803755671239,-14.1227330037262,-22.2035268275320,63.0210928476043,-96.1546494001550;-28.1985330264301,19.2187993650317,-31.6098831481394,40.6365332744521,57.3869021034678,90.0091330205378,70.3685280155649,-94.6947363242425,15.4585448990367,-3.56726827197929;-32.3305845204661,96.7103642689412,89.6817775358138,-76.1112587021944,-59.6658215482641,-12.3051942986743,-3.58209355821603,-28.3114229382209,-0.951039181550954,-59.5396250576853;-61.9748012763323,34.8111865077630,56.8515078724498,65.0136567230100,54.2174697213174,27.1706764081902,-57.3306004034407,79.0957823399668,90.1246156117008,13.2944369717469;-68.1241438704520,97.7623806925118,-88.4345694216801,-93.6472680974048,-66.4292750147485,89.5607842520688,-21.0552563721679,-32.9711492211502,18.4635081156984,-21.4156985130820;60.7316686832358,35.2116956971299,-57.0658710851709,92.6166270727556,23.2849916313664,23.1004183318941,22.6570466348803,-68.5177005938136,-17.3490022081865,25.7776584246591;12.0851468345424,68.9052979650491,-31.5381281128910,80.1439015098622,8.91723358017529,-82.2399199025438,-8.03224201676596,-37.1963921814999,96.5305533782951,0.563163815658953;67.2520585642665,33.7324722719458,-49.4641146486901,76.2717930428794,5.89837719089097,22.3616727285980,66.9846244213918,49.1283650146385,-14.2522885055409,73.3501055062905;-1.86496599820003,61.3203048798078,25.9273745881743,26.7528614782615,-81.7778371955554,87.6216306816014,22.4542361384146,-50.3005806904727,-37.9035726534822,-29.0539433482120;-97.6287250937570,44.6281220314943,9.55635219414397,37.0510521225581,-29.9939375610726,-60.2491239361134,-21.2893957117211,31.9761879852441,58.6271774873895,-79.8143344959320;84.0346600108649,38.8744945993937,35.4987673569270,-39.0194041912564,-11.1501068214169,22.4689817860243,-41.7008187257035,98.4930191558470,71.6511294258837,57.1101987705137;5.12469991942470,66.8185905609460,-74.0396474160031,-57.8909113334829,-47.7236334919945,18.2839110785265,95.1008401111397,45.0321225454595,-86.3070518009368,45.6125933018333;20.5305783815228,-68.2800924892342,-55.5505175112335,-52.5042189240147,7.58480618761794,-57.2820769515773,84.8048777480412,-10.1240588532547,-48.3672737327471,-84.0088792575585;22.7779365586231,82.2660956084216,-82.3023294063117,-71.9208649403306,-96.9039722763164,88.0702710468642,47.4854372899878,75.9818217672946,51.5813837158664,-74.4982930513544;34.6450346211433,19.7870742486186,69.5114326966039,-10.8430681979127,-1.59883504799154,57.5096934711389,54.8420459559264,-14.3169811744049,-54.2495658315868,76.6836465636848;31.7047537840226,53.2936903372162,-22.0292949445346,82.3437790113036,90.6178894495674,57.5532639877495,40.1656804440556,-16.3451662147745,-6.62927233710251,-13.9104982327476;-37.5359707390189,35.2115560445772,-61.8407121598176,-51.0574512633967,83.8275748349484,12.1826830044895,14.6763041011711,46.6141194353554,-33.8019680041205,49.2778705044749;-74.3894481916557,92.2650972809572,-5.99971874643256,-66.4716704363790,31.4162973396090,18.4111341509137,-89.1535143919874,14.7858308208404,-50.6030622091460,-93.3596900408453;95.0991939311808,-90.3110280373245,73.3358894003387,0.642910449553597,-34.7072706716617,-46.6486419035390,75.1870435198593,73.2036257310937,71.7420230409974,-13.2890382833490;-84.5694656671371,29.0910849495752,-34.3865998084978,-74.1096994591028,-78.5561092474287,19.5892373795941,63.6554592596976,-25.4622220531847,-40.6177073662688,30.0954391654718;27.9279882643692,77.5680960739480,30.9351113713778,-18.0891356262365,69.1773670463670,85.2544187518923,-63.2348667914909,62.7419003166701,-37.2459102638853,19.5314644088060;72.6249043766417,55.7202744251350,-57.9023648360392,-21.5508397139785,-29.0578525035434,-8.21841557384371,-62.2971377077663,-37.6722164408631,-43.2009879670514,54.0766219892814;-47.8077051474971,-27.6523303115052,-27.1072996364860,-32.0775670405131,11.9010006385476,-14.6062343074141,-23.0063301787497,32.1256507934133,75.5760469143364,-86.4851015177996;95.1991136093263,77.6500557949619,62.8958588059166,83.7528326399651,72.9216426351787,80.7688470843633,-49.5657434536422,-71.2369379100549,48.9837375616584,-15.7289107439944;13.1542997286039,-94.4502904882531,-25.8190224534511,80.3757265687465,48.6016062403620,48.0565470220529,-61.3906204803491,45.1193912302698,30.6857627649003,-4.68443619468569;-31.4257428670161,-61.2322093273317,78.4969016478633,-9.04825791570151,42.9612451992383,62.0943674661054,-90.7869432189692,84.0359937031314,-38.3915013622863,-90.3868422442486;-2.87058376662176,69.2864341110982,68.3832310733307,55.8241004911073,-4.17176013505323,-49.4462656649335,23.7236720585706,99.2091347265820,-16.1081883693981,-83.0815169894836;-69.0118601350361,8.95284712367277,-48.8929263106964,66.0840365780138,33.1083154435414,-46.9246452274473,-65.2611168810464,-56.7455587248761,-45.4540279867856,48.6807667281555;32.8346997143223,19.1468051164369,-95.0497745674055,26.7342883363561,-93.1755971150174,-8.38348126063495,74.6625622237022,-10.2184336991843,15.5996143950214,61.1257649836099;87.3748001469591,-28.8992154880102,-12.4913179721457,14.4390160961989,-8.67225607842575,-95.7411118183244,55.6899227274139,75.8498983349320,-23.8452437750511,-71.0761186453208;-93.5473872693523,2.46972620436885,-21.3262362658287,15.3290124611720,-65.1524525357483,-89.1771402089609,51.1040290511598,31.1914644769632,32.5701747032343,-48.7778678348537;28.0029566817749,39.1341614717442,-86.3259731120400,27.1980869736534,96.4933312827828,-59.8625448646950,9.87046974133146,-93.7950566320594,51.4879331543348,-36.5187161769038;93.7785838040263,-35.5391084300217,-47.2972830547962,-82.2210114286017,82.9796997931788,52.9125988534948,-0.148724115366122,37.0709891331025,41.0380061357512,-44.6191340907910;10.8268699688432,-84.9461347540158,8.89741924675185,-53.2893936166573,13.7283434498833,18.2665603258807,-45.3076192069659,-10.5298995324396,50.7926408192089,-79.7354469347194;-77.8933834523369,19.2403856229826,36.1039296802130,0.762746482118530,-99.5152631741074,30.1149892956663,-79.3428284420066,-66.9596730876733,69.5522479446228,-99.7284986468301;80.5047322118517,-40.2156625515124,24.5812861598000,7.68586261503721,45.3889907031113,-46.2429156471944,-61.1281396050043,-32.6909762047408,-65.7984495529197,-82.7683514402782;83.6707019939277,74.5322263181630,77.0280522503494,92.3443939408506,-49.3172419070246,88.1561961738120,95.0255398444143,-57.0427374121587,-18.5828249021717,9.15858564657486;-44.7728460322428,36.8635531282606,-2.48533216718634,-8.49193073224053,24.0099331406740,48.1244686046015,-95.7233065989294,49.6125603089114,8.24050619970438,17.2377504754207;69.3539645833793,-9.34046780525833,-22.3736226341016,30.4129665312036,90.8503769466131,16.3501521167789,-19.0447913076530,53.4118336816483,47.1945641729361,-61.9365145554717;58.6342217862822,21.6324470986439,10.0297825399173,83.7910326332154,69.4793340582097,-87.1879994629813,-49.9716656485425,-75.1140043911922,-47.6315221179012,-64.1645372512834;-56.6844592157384,-78.2956065512592,80.9449116366121,-72.0826586547971,-29.1394628131946,-16.2669169634345,58.4232363297926,90.7670012196982,-86.4364412319283,-83.0029239732509;33.9730460764677,-63.1025398074630,85.0486265632065,-60.3602761410638,23.1585157142652,53.7295490883782,69.2013156211039,-13.8012535607870,-13.7371954606677,27.2489260162776;-15.4413008937548,-58.0729872121928,-50.6398785364986,13.7975178912499,-98.1246110199467,35.0683271068120,-52.8568369369786,87.3388572817084,-46.4746041308660,82.6953762146040;53.4311908156666,-77.3360889179067,-83.6819772384614,-55.9739035245436,96.5310994435895,-72.4876143849665,-35.1960315579897,-84.6109166383869,79.5631506539590,-20.3191169717417;23.5898567460963,-32.8698412432504,-33.4701873395067,35.6370987885929,-44.3558526370600,79.1270765042176,93.4427705543336,4.02849736849962,-39.2807468967498,-54.7308706746801;-46.3639606310391,-5.99888970462361,45.6333002356744,8.04410667840155,38.6523264652945,3.82860635540021,89.8883843574577,-83.9352490401521,-1.14070060163220,95.5726540229777;26.2768133980994,-86.2668245244330,-82.9061158184870,36.3030098265657,-56.3811164886115,34.5674084311442,-24.8916209426660,5.86641495325908,-14.1559377964271,-78.8113721065224;7.66697060382491,33.8717778253268,16.1550800542783,-30.2463781564096,17.6428396047943,25.5054391323610,-93.7367132956511,-29.1759238928533,26.2756628522256,6.15858724008270;99.5394292530632,-11.9507760374579,-80.5593830442015,-72.4837885392486,81.9772498384832,65.7147271582718,-31.1172934809863,-78.8818558716891,-5.55534754038267,-19.6825989060156;94.2281323893436,-20.6201021459190,43.9690589706687,-79.7966677063087,84.3439757441427,-97.9598396522704,40.7733718560718,-49.3830045687392,50.9677824926145,7.19799200561040];
            z(:,1:obj.Dr) = PopDec(:,1:obj.Dr);
            for i = 1 : obj.Dc
                v = Shift(:,obj.Dr+i);
                z(:,obj.Dr+i) = v(PopDec(:,obj.Dr+i));
            end
            z = 0.05 * (z - Shift(1,:))*M; 
            PopObj = 0;
            for i = 1 : obj.D
                PopObj = PopObj + i*z(:,i).^2;
            end
        end
    end
end