classdef EOPCCV_F12 < PROBLEM
% <2022> <single> <real/label> <expensive/none>
% Expensive optimization problems with continuous and categorical variables

%------------------------------- Reference --------------------------------
% J. Liu, Y. Wang, G. Sun, and T. Pang. Multisurrogate-assisted ant colony
% optimization for expensive optimization problems with continuous and
% categorical variables. IEEE Transactions on Cybernetics, 2022, 52(11):
% 11348-11361.
%------------------------------- Copyright --------------------------------
% Copyright (c) 2026 BIMK Group. You are free to use the PlatEMO for
% research purposes. All publications which use this platform or any code
% in the platform should acknowledge the use of "PlatEMO" and reference "Ye
% Tian, Ran Cheng, Xingyi Zhang, and Yaochu Jin, PlatEMO: A MATLAB platform
% for evolutionary multi-objective optimization [educational forum], IEEE
% Computational Intelligence Magazine, 2017, 12(4): 73-87".
%--------------------------------------------------------------------------

% This function is written by Jiao Liu (email: jiao.liu@ntu.edu.sg)

    properties
        Dr;     % Number of continuous variables
        Dc;     % Number of categorical variables
        len_c;  % length of values of categorical variables
    end
    methods
        %% Default settings of the problem
        function Setting(obj)
            obj.Dr       = 2;
            obj.Dc       = 8;
            obj.M        = 1;
            obj.D        = obj.Dr + obj.Dc; 
            obj.lower    = [-100*ones(1,obj.Dr),ones(1,obj.Dc)];
            obj.upper    = [100*ones(1,obj.Dr),5*ones(1,obj.Dc)];
            obj.len_c    = 5*ones(1,obj.Dc);
            obj.encoding = [zeros(1,obj.Dr),zeros(1,obj.Dc)+3];
        end
        %% Calculate objective values
        function PopObj = CalObj(obj,PopDec)
            load elliptic_M_D10
            PopDec(:,obj.Dr+1:obj.D) = ceil(PopDec(:,obj.Dr+1:obj.D));
            Shift = [0.587573689668062,-84.9703414966018,-97.8543133035702,39.7223382338061,28.3686021608614,61.1285989202206,38.9557660327904,-77.1345608651395,50.6776342724414,14.4813338922385;44.8094056217810,-66.3490403550337,-98.8580564718907,-99.8415813791201,-19.5009260703089,4.12863483905434,37.3101432815701,-2.03395155161826,-39.6234016819951,-97.4608816402683;76.2347492013764,57.1307584521690,-93.8085143482412,-4.64541070864834,-96.7177835927717,-3.94447612527648,83.0974738711339,70.8802309257285,-61.7099770895016,92.2885488114175;11.0457857133853,23.8516337629113,-78.8367969849055,74.7199715121243,9.01814579607860,-15.1704683186536,-98.6904999312050,51.3175783236643,97.7222585121669,-3.81723352033276;43.1799708781180,78.4181607463348,81.9188444017979,-80.8982956853028,58.1322424661566,-7.94284956222361,-75.3425908369046,-24.3459978122232,63.1775327810836,83.2134034387402;-46.1529200690345,-93.8841516063303,-2.91813891321256,-54.2255871149310,-8.99498441509705,-51.8438030556230,93.3489775791558,63.8007150539411,-12.0348416978790,-89.4358201241630;31.4506973434446,-68.7017393019339,-50.9362751393511,73.2055507164235,99.3703679581562,76.1710136755326,52.6870990990219,93.8857631664118,-21.6271336943923,10.1637229546199;81.0483420924417,62.4080501295502,31.9732218470819,-29.1146929172712,28.2748818731911,-37.0110417712063,-77.6948537548516,11.8351010616490,-12.3743722357221,-86.6363587604045;-29.7352086288566,-4.63180134481272,69.0271283821732,-11.7112932091356,60.8476481002999,-34.0411108732223,3.44876776937831,57.5630124027747,67.1491222282955,-64.1288763387244;95.6470372438716,90.9024823647654,85.5965166673216,16.2659157363608,-53.6359508632156,-61.8862129208726,-14.2671171630514,-0.911740764377271,-19.0774927957236,6.01889475433246;64.4330277687116,-42.1373324161301,-68.3081035233481,35.9543847766719,0.145584889330280,-84.7750592814205,-16.5543681986612,25.9836349609245,8.30592437227156,28.5109251082131;92.5862559813140,-11.6151533282106,6.27946593178770,61.4821166897393,15.2549258355951,-66.6246694095815,-9.14944205017363,-55.7402950488301,-29.5963431678923,41.2175606679059;49.6928756981696,-55.7372457424539,40.5238430386574,83.0357304564358,-28.6398355241114,-83.8212423427280,-90.7942115199742,78.6985178409998,62.8920755696867,96.9810396654322;42.5418808807515,-76.0128749843823,-95.4816102622464,-75.5741894101039,0.441590459876124,-75.9169718001919,-60.2784225519305,-40.8388543723808,2.19316909744134,-3.55941808394809;-0.610284900911950,9.81337393709597,80.9623645984683,52.1384899408854,-84.9271880259777,-41.3326199585061,-85.4420363083472,94.1068437069076,93.9924177894988,-58.5676604699462;-81.4864500533880,-64.2462287184742,-63.6475318078988,46.4071578307840,35.2919898004991,-68.6026857673679,28.6856882258318,18.2992652832525,21.9461461442027,-5.49343179002273;-78.8192329020637,68.6045356701085,-87.5306185219556,-90.1751489377442,-98.0530514488253,96.8594504061406,79.7940286580764,28.1469358945853,31.8831589367096,-97.4662137881787;-43.8680031509528,43.0632176584909,-99.2215839181147,-93.0181428138915,-93.2728863062817,-53.7762228168407,-87.8775464132003,-65.1372886729788,-67.5849145588917,-31.4968930613980;48.0322655353945,-82.2249151006754,-23.0806514670149,68.4246141691255,-34.3777178146238,29.3764270395175,-84.5449148102629,46.3766172859222,-17.8376095609304,49.9277398739006;-5.70877641196283,73.8714497206555,27.8341629370468,76.0749491597336,64.8498940614984,13.4896023255939,80.3052836590075,-83.7041565546661,38.6552381920748,9.72164144045651;-43.5343920684858,85.5685858896405,-17.5082561167925,24.7781879303294,-69.5115685909543,67.3518712389261,-78.0453003151633,-59.1507590244621,-1.91513354365260,96.5878017463869;4.79155587510441,82.1202456829648,53.2526730583896,96.7744559187097,8.18765997089015,-13.0779244216570,-25.0972359895995,76.5722791801057,-58.7875111233585,65.3802895344444;-76.1380655201183,-76.6903722840521,-22.0482864900635,-25.8686891795858,70.3861081350567,40.5368303623964,22.3365694873430,-14.9312962794934,11.6610286099852,-99.5803966997051;-22.4320293525710,40.0955856399547,19.3558937918646,90.3645343487910,73.4964791452831,-6.83942278467985,-0.114415699811047,33.4026663496181,94.2897604032580,78.2783069990387;38.5640550049600,58.4316353793374,-5.79548837155330,38.8125947693445,2.78512358003032,-84.5538214372334,-26.9180738633100,78.5298147366928,87.7525630719499,-55.4687533457080;37.4379533519450,40.8677831667799,61.1663780567022,-20.2763984209764,27.0594817342268,-0.157482139752489,-44.4854126377926,62.8127796524396,87.4474639617211,-67.9835016121587;96.2847278392707,-58.3633970302763,-47.3233325934249,-77.8679857615035,19.8711209364004,-29.2024952218700,15.9172407194586,27.8349502622546,86.6338573923123,81.5494977806459;34.1132205562215,17.1671420787581,-76.4618337544740,68.6886109366747,3.59017265921595,-79.5668284992297,61.7887354798999,-64.7313552313111,-38.7430487768912,-34.4713665823766;46.2785506514347,-21.1903228671784,-35.4995204768505,44.4864970793213,69.1979772452391,79.9401311582123,65.9282780146709,76.9620944476004,68.0096600253540,8.39582639938450;-84.6407250211418,-83.6218384667531,-50.5561975942572,47.5892806561452,54.8954199990648,-51.9413042826333,-6.25256235918744,-64.1430107274770,25.9733105118885,-0.326617362790628;-55.8913247968354,-83.6490663543259,-68.5911911503505,73.9308282808668,3.67266496003768,19.8520147938930,53.8297124372677,93.0189998006027,-31.3013115800968,-84.0436485991018;7.36742070110297,-37.9152899484107,14.3262853701780,48.4471374989108,-24.0040716149078,-10.2429052511197,-3.09107969634057,16.1247407178204,-31.6593305476407,-94.0987314391838;-45.9975053819525,-62.1905131861209,53.3528160694251,-13.9458909366608,99.1703996534749,69.0678603607326,-18.8327747510903,20.0351383584025,73.0660881514587,34.3408138762278;31.3371554173283,56.2254048553086,46.1019671663325,-67.5530561156606,99.8872600010112,-92.6543408684265,-60.2949498576958,97.4170475707559,-3.71547588013547,-94.2220143185527;-94.1292811389456,-42.7765701469492,85.9723295695578,47.5275528952074,3.51988132853805,86.9966344466383,70.4108250173151,31.2345854752341,-89.6424173659984,-52.9860095490517;3.51136029160497,-69.4847350318860,-33.8764249169271,73.0566425315751,-56.4854878339750,58.3004466770934,-20.6713258754244,-10.4644497963301,49.1881312607833,57.3311850862332;98.0402008418669,26.4992918142157,18.4538904597374,-5.74410649110723,-61.2219816068719,-43.9242627085572,-43.1021552331112,-20.5047150177136,-68.7880521974462,-61.8624885201827;95.3249665129691,4.44824915754892,79.9919714176303,-19.0355181435696,39.5817548388536,-20.8566345560164,18.0841053069760,-23.7704913791073,-23.3485256333937,80.5320142744340;-91.5990816123869,37.2062849315174,-9.44813726812457,-93.9211441424271,-4.44638804525268,16.9236202534683,-9.05749813173800,-57.0908213413368,42.5451987631222,-27.4094167449450;-95.9265249015765,37.5371136935079,-60.4291238243875,-67.5207871640827,88.6140239254810,-60.2658229538494,-26.3864244061291,47.7171072242422,-40.3677905148504,28.0309430564970;20.1515251249888,-34.7153405218262,82.0293644014767,-90.4200834153119,62.7332105306445,86.8798889611676,-72.0134703191809,-54.0828310519801,89.8498756129272,-13.0576443785157;-78.2769707974928,62.5971414200648,-30.3789776647819,49.7940066774311,-26.3465832613042,1.20274750651942,-1.90371880930029,35.8749527713820,85.9628177909172,-5.51230883527455;-73.4217158754843,-93.2685678997492,-97.2912438123948,-67.4468194182694,-20.9954747580676,-45.5330770199263,-81.9013899529603,12.4085157441950,79.0597780419719,-38.7156285823119;13.0406048966276,-22.7730227087452,-19.0943255775399,-79.1839484758431,-98.1535454875670,26.6027621985739,56.0973927316715,11.4187459941331,-12.6748524179717,11.6919350086466;73.3171589501201,70.9356643669047,-50.2186509716603,-34.9053380156503,-51.9305112223364,29.3927821888732,-37.3485839379899,51.2914817063833,-63.4425795269628,-42.5277957963366;34.6231846117702,-30.5825068335583,-62.2306477148722,-92.9823644227158,-69.2805804282085,-33.7099063729143,-14.2860848656487,75.5831546199260,84.9341772307457,20.1197450410840;87.8499232775111,-21.3100758966396,-73.8656742257698,-33.0092667348103,-35.6481426761040,-18.4652366785593,-27.7772643282147,-14.5188732864519,-80.2617480925661,-95.2767209311133;38.9529612173975,-0.649837232484288,13.4855724935877,-6.49286630243687,62.6224654809134,55.3891152087159,85.4641674423454,-63.6737019594594,-18.6540347564670,-86.2198861488536;-61.7107001624487,-70.9836599186716,21.1108071423010,68.7438378570178,-29.6575608659173,-20.0080809037768,-97.1820646275853,-80.4948722406761,-73.9755199231258,-36.4242147861907;63.3143589109992,-79.5888230510603,-40.6244594766280,4.54253137219914,-67.5149223518961,-3.83937864831940,0.734495603288735,-76.1254938447092,-41.4774989565259,-63.2949180467392];
            z(:,1:obj.Dr) = PopDec(:,1:obj.Dr);
            for i = 1 : obj.Dc
                v = Shift(:,obj.Dr+i);
                z(:,obj.Dr+i) = v(PopDec(:,obj.Dr+i));
            end
            z = 0.05*(z - Shift(1,:))*M; 
            PopObj = sum((z.^2-10*cos(2*pi*z) + 10), 2);
        end
    end
end